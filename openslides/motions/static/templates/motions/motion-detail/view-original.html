<!-- Original view, Inline Editing is possible -->
<div ng-if="viewChangeRecommendations.mode == 'original' && motion.isAllowed('update') && version == motion.getVersion(-1).id">
    <div ng-show="inlineEditing.active">
        <div ui-tinymce="inlineEditing.tinymceOptions" ng-model="inlineEditing.lineBrokenText"
             class="motion-text line-numbers-{{ lineNumberMode }}"></div>
    </div>
    <div ng-show="!inlineEditing.active" ng-bind-html="motion.getTextWithLineBreaks(version, highlight) | trusted"
         class="motion-text motion-text-original line-numbers-{{ lineNumberMode }}"></div>

    <div class="motion-save-toolbar" ng-class="{ 'visible': (inlineEditing.changed && inlineEditing.active) }">
        <div class="changed-hint" translate>The text has been changed.</div>
        <button type="button" ng-click="inlineEditing.save()" class="btn btn-primary">Save</button>
        <label ng-if="motion.state.versioning && config('motions_allow_disable_versioning')">
            <input type="checkbox" ng-model="inlineEditing.trivialChange" value="1">
            <span translate>Trivial change</span>
        </label>
    </div>
</div>

<!-- Original view, Inline Editing is NOT possible -->
<div ng-if="viewChangeRecommendations.mode == 'original' && !(motion.isAllowed('update') && version == motion.getVersion(-1).id)">
    <div ng-bind-html="motion.getTextWithLineBreaks(version, highlight) | trusted"
         class="motion-text motion-text-original line-numbers-{{ lineNumberMode }}"></div>
</div>

<!-- Original view, Change list -->
<ul ng-if="viewChangeRecommendations.mode == 'original'" ng-show="lineNumberMode != 'none'"
    class="change-recommendation-list">
    <li ng-repeat="change in change_recommendations | filter:{motion_version_id:version}:true"
        ng-class="['replace', 'insert', 'delete'][change.getType(motion.getVersion(version).text)]"
        ng-click="viewChangeRecommendations.scrollToDiffBox(change.id)"
        data-line-from="{{ change.line_from }}" data-line-to="{{ change.line_to}}"
        title="{{ change.getTitle(motion.getVersion(version).text) }}">
        <div class="tooltip">
            <div class="text" ng-bind-html="change.text || trusted"></div>

            <!-- delete change recommendation -->
            <button class="btn btn-default btn-xs"
                    ng-bootbox-confirm="{{ 'Are you sure you want to delete this change recommendation?' | translate }}"
                    ng-bootbox-confirm-action="viewChangeRecommendations.delete(change.id)"
                    title="{{ 'Delete' | translate }}">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </li>
</ul>
