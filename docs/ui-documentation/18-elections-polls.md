# OpenSlides Elections and Polls Documentation

## Overview
The Elections module provides comprehensive voting and polling functionality within meetings, allowing organizers to create elections, manage candidates, conduct polls, and collect votes through various voting methods including electronic voting systems.

## URL Routes
- Elections main: `/:meetingId/elections`
- Specific election: `/:meetingId/elections/:electionId`
- Poll management: `/:meetingId/elections/:electionId/polls/:pollId`

## Page Layout
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Elections                     [+] [โฎ]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  2 of 2    [โก SORT] [โฒ FILTER] [๐ Search___] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Election List                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ๐น 2. Wahl                                  โโ
โ  โ     Searching for candidates    ?  ๐ฅ      โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ๐น Wahl                                     โโ
โ  โ     In the election process    3  ๐ฅ       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Election Management Interface

### Header Controls
- **Create Election Button (+)**: Add new elections
- **Menu Button (โฎ)**: Bulk operations and system settings
- **Result Counter**: Shows current results ("2 of 2")
- **Sort Button (โก SORT)**: Election sorting options
- **Filter Button (โฒ FILTER)**: Advanced filtering controls
- **Search Field**: Real-time election search

### Election Card Display
Each election is displayed as a card containing:
- **Video Icon (๐น)**: Indicates live/recorded election
- **Election Name**: "2. Wahl", "Wahl" (customizable titles)
- **Status Indicator**: Current election phase
  - "Searching for candidates"
  - "In the election process"
- **Candidate Count**: Number of candidates (3, ? for unknown)
- **Participants Icon (๐ฅ)**: Shows participant involvement

## Election States and Workflow

### Election Phases

#### 1. Candidate Search Phase
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐น 2. Wahl                                      โ
โ    Searching for candidates              ?  ๐ฅ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Phase: Candidate Registration                   โ
โ โข Candidates can self-nominate                  โ
โ โข Administrators can add candidates             โ
โ โข Candidate information collection              โ
โ โข Nomination period management                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### 2. Election Process Phase
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐น Wahl                                         โ
โ    In the election process              3  ๐ฅ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ Phase: Active Voting                            โ
โ โข Electronic voting enabled                     โ
โ โข Real-time vote collection                     โ
โ โข Vote counting and results                     โ
โ โข Live result updates                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### 3. Additional Election States
- **Preparation**: Setting up election parameters
- **Closed**: Election completed, results finalized
- **Aborted**: Election cancelled or terminated
- **Published**: Results published and visible

## Election Creation and Configuration

### Create New Election Dialog
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Create election                        [x]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Election title *                               โ
โ  [Board Member Election_______________]         โ
โ                                                 โ
โ  Description                                    โ
โ  [Text area for election description]           โ
โ                                                 โ
โ  Number of positions                            โ
โ  [3] positions to fill                          โ
โ                                                 โ
โ  Voting method                                  โ
โ  โ Electronic voting                            โ
โ  โ Paper ballots                                โ
โ  โ Show of hands                                โ
โ                                                 โ
โ  Candidate self-nomination                      โ
โ  โ Allow candidates to self-nominate           โ
โ                                                 โ
โ  Voting period                                  โ
โ  Start: [DD.MM.YYYY HH:MM]                     โ
โ  End:   [DD.MM.YYYY HH:MM]                     โ
โ                                                 โ
โ  [Cancel]                        [Create]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Election Configuration Options
- **Election Type**: Simple majority, multiple choice, preferential voting
- **Vote Visibility**: Secret ballot, public voting, anonymous
- **Quorum Requirements**: Minimum participation thresholds
- **Multiple Positions**: Single seat or multi-seat elections
- **Voting Duration**: Time limits and scheduling
- **Result Publication**: Immediate or delayed result display

## Candidate Management

### Candidate Registration
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Candidate management                   [x]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Election: Board Member Election                โ
โ                                                 โ
โ  Current candidates (3):                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ 1. John Doe                          [Edit] โโ
โ  โ    Department: Finance                      โโ
โ  โ    Experience: 5 years board member        โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ 2. Jane Smith                        [Edit] โโ
โ  โ    Department: Marketing                    โโ
โ  โ    Experience: 3 years committee chair     โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ 3. Bob Wilson                        [Edit] โโ
โ  โ    Department: Operations                   โโ
โ  โ    Experience: 10 years experience         โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                 โ
โ  [Add Candidate] [Import from CSV]              โ
โ                                                 โ
โ  Nomination period:                             โ
โ  โ Open (accepts new candidates)                โ
โ  โ Closed (finalized candidate list)           โ
โ                                                 โ
โ  [Save Changes]                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Add Candidate Dialog
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Add candidate                          [x]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Candidate selection                            โ
โ  โ Existing participant                         โ
โ  โ External candidate                           โ
โ                                                 โ
โ  Select participant                             โ
โ  [Choose participant โผ]                         โ
โ                                                 โ
โ  Candidate information                          โ
โ  Name: [Auto-filled from participant]          โ
โ  Department: [_________________]                โ
โ  Position: [___________________]                โ
โ                                                 โ
โ  Biography/Statement                            โ
โ  [Text area for candidate statement]            โ
โ                                                 โ
โ  Photo                                          โ
โ  [Upload candidate photo...]                    โ
โ                                                 โ
โ  [Cancel]                           [Add]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Voting Interface and Process

### Electronic Voting Interface
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Election: Board Member Election        [x]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Instructions                                   โ
โ  Select up to 3 candidates for the board.      โ
โ  Voting ends in: 15:42 minutes                 โ
โ                                                 โ
โ  Candidates                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ โ John Doe                                  โโ
โ  โ   Department: Finance                       โโ
โ  โ   [View statement]                          โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ โ Jane Smith                                โโ
โ  โ   Department: Marketing                     โโ
โ  โ   [View statement]                          โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ โ Bob Wilson                                โโ
โ  โ   Department: Operations                    โโ
โ  โ   [View statement]                          โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ โ Abstain                                   โโ
โ  โ โ No (reject all candidates)                โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                 โ
โ  Selected: 0 of 3 maximum                      โ
โ                                                 โ
โ  [Submit Vote]                   [Clear All]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Voting Confirmation
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Confirm your vote                      [x]     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Election: Board Member Election                โ
โ                                                 โ
โ  Your selections:                               โ
โ  โข John Doe                                     โ
โ  โข Jane Smith                                   โ
โ  โข Bob Wilson                                   โ
โ                                                 โ
โ  Warning: This vote cannot be changed after     โ
โ  submission. Please review your choices.        โ
โ                                                 โ
โ  [Go Back]                    [Confirm Vote]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Poll Types and Voting Methods

### Single Choice Polls
- **Yes/No Voting**: Simple binary choices
- **Multiple Options**: Select one from many options
- **Approval Voting**: Vote for or against single proposal

### Multiple Choice Polls
- **Multi-Select**: Choose multiple options
- **Ranked Choice**: Preferential voting with rankings
- **Weighted Voting**: Assign weights to choices

### Electronic Voting Methods
- **Anonymous Voting**: Secret ballot with no voter identification
- **Pseudonymous Voting**: Traceable but anonymous voting
- **Open Voting**: Public vote with voter identification
- **Delegated Voting**: Proxy voting capabilities

## Results Display and Analysis

### Real-time Results Interface
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Election Results: Board Member Election        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Status: Voting in progress                     โ
โ  Participation: 45 of 78 eligible voters (58%) โ
โ  Time remaining: 12:33 minutes                  โ
โ                                                 โ
โ  Current Results (Live):                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ John Doe              [โโโโโโโโโโ] 32 votes โโ
โ  โ Jane Smith            [โโโโโโโโโโ] 24 votes โโ
โ  โ Bob Wilson            [โโโโโโโโโโ] 20 votes โโ
โ  โ Abstentions           [โโโโโโโโโโ]  8 votes โโ
โ  โ No votes              [โโโโโโโโโโ]  4 votes โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                 โ
โ  [Export Results] [Close Voting] [Extend Time]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Final Results Display
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Final Results: Board Member Election           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Status: Voting completed                       โ
โ  Final participation: 67 of 78 voters (86%)    โ
โ  Voting period: 24.07.2024 14:00 - 15:30       โ
โ                                                 โ
โ  Elected Candidates (3 positions):              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ๐ 1. John Doe           45 votes (67%)     โโ
โ  โ ๐ 2. Jane Smith         38 votes (57%)     โโ
โ  โ ๐ 3. Bob Wilson         35 votes (52%)     โโ
โ  โ                                             โโ
โ  โ Not elected:                                โโ
โ  โ    Sarah Davis           18 votes (27%)     โโ
โ  โ    Mike Johnson          12 votes (18%)     โโ
โ  โ                                             โโ
โ  โ Invalid votes: 2                            โโ
โ  โ Abstentions: 8                              โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                 โ
โ  [Publish Results] [Generate Certificate]       โ
โ  [Export PDF] [Send Notifications]              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## Advanced Voting Features

### Voting Security
- **Ballot Encryption**: Secure vote transmission and storage
- **Vote Verification**: Voters can verify their votes were counted
- **Audit Trail**: Complete logging of all voting activities
- **Anti-Fraud Measures**: Duplicate vote prevention
- **Access Control**: Voter eligibility verification

### Accessibility Features
- **Screen Reader Support**: Full accessibility for voting interface
- **Keyboard Navigation**: Complete keyboard voting capability
- **High Contrast**: Accessible color schemes for voting
- **Font Scaling**: Adjustable text size for readability
- **Audio Assistance**: Audio descriptions of candidates

### Integration Features
- **Agenda Integration**: Link elections to agenda items
- **Participant Sync**: Automatic voter eligibility from participants
- **Notification System**: Email/SMS notifications for voting
- **External Systems**: Integration with identity providers
- **Backup Systems**: Failover and redundancy options

## Data Models

### Election Model
```typescript
{
  id: number;
  title: string;
  description?: string;
  meeting_id: number;
  open_posts: number;
  phase: ElectionPhase;
  default_poll_description?: string;
  number_poll_candidates: boolean;
  allow_multiple_posts_per_candidate: boolean;
  created_at: number;
  updated_at: number;
}
```

### Poll Model
```typescript
{
  id: number;
  content_object_id: number;
  title: string;
  type: PollType;
  state: PollState;
  onehundred_percent_base: PercentBase;
  majority_method: MajorityMethod;
  votes_amount: number;
  votes_cast: number;
  votes_valid: number;
  votes_invalid: number;
  votesabstain: number;
  votesno: number;
  votesvalid: number;
  is_pseudoanonymized: boolean;
}
```

### Vote Model
```typescript
{
  id: number;
  poll_id: number;
  user_id?: number;
  delegated_user_id?: number;
  value: VoteValue;
  weight: number;
  created_at: number;
}
```

## Permissions and Access Control

### Election Permissions
- `assignment.can_see`: View elections and results
- `assignment.can_nominate_other`: Nominate other participants
- `assignment.can_nominate_self`: Self-nomination
- `assignment.can_manage`: Create and manage elections

### Poll Permissions
- `poll.can_see`: View polls and results
- `poll.can_vote`: Participate in voting
- `poll.can_manage`: Create and manage polls
- `poll.can_see_results`: View detailed results

## E2E Test Selectors

### Election List
- Elections container: `.elections-list`
- Election card: `.election-card`
- Election title: `.election-title`
- Election status: `.election-status`
- Candidate count: `.candidate-count`

### Voting Interface
- Vote form: `.voting-form`
- Candidate options: `.candidate-option`
- Vote checkbox: `input[type="checkbox"].vote-option`
- Submit button: `button.submit-vote`
- Confirmation dialog: `.vote-confirmation`

### Results Display
- Results container: `.election-results`
- Vote counts: `.vote-count`
- Result bars: `.result-bar`
- Winner indicator: `.winner-badge`

## Keyboard Shortcuts
- `Ctrl+N`: Create new election
- `Space`: Select/deselect candidate
- `Enter`: Submit vote or confirm action
- `Escape`: Cancel current operation
- `Tab`: Navigate between candidates
- `Ctrl+S`: Save election settings

## Performance Features
- **Real-time Updates**: WebSocket-based live result updates
- **Optimistic UI**: Immediate feedback for user actions
- **Batch Processing**: Efficient vote counting and aggregation
- **Caching**: Cache election data for fast access
- **Scalability**: Handle large numbers of voters and elections